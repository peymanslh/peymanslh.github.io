<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Data Structures in Python - Peyman Salehi</title>
<meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://peyman.blog/favicon.png><link rel=alternate type=application/rss+xml href=https://peyman.blog/index.xml title="Peyman Salehi"><link rel=stylesheet href=/css/style.min.0d95cf45668059f810b4c9368f42c38f1809cbd8d45cc13edd2b6bea820b8f19.css><meta name=description content="A brief explanation of some data structures in Python besides list, dict, and tuple that you should know when coding in Python."><meta property="og:title" content="Data Structures in Python"><meta property="og:type" content="website"><meta property="og:url" content="https://peyman.blog/posts/data-structures-in-python/"><meta property="og:description" content="A brief explanation of some data structures in Python besides list, dict, and tuple that you should know when coding in Python."><meta name=twitter:card content="summary"><meta name=twitter:site content="@_peymanslh"><meta name=twitter:creator content="@_peymanslh"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,500;0,700;1,500&family=Libre+Caslon+Text:wght@700&family=Pridi:wght@300;400;600;700&display=swap" rel=stylesheet></head><body class='page page-blog-single'><div id=wrapper class=wrapper><div class=header><a class=header-logo href=https://peyman.blog/>Peyman Salehi</a><div class=menu-main><ul><li class=menu-item-about><a href=/pages/about/>About</a></li><li class=menu-item-posts><a href=/posts/>Posts</a></li></ul></div></div><div class=blog><div class=intro><h1>Data Structures in Python<span class=dot>.</span></h1></div><div class=content><p>When we code in Python usually there are multiple data structures such as <code>list</code>, <code>tuple</code>, <code>set</code>, and <code>dict</code> that we mostly use. But besides these four, Python has other data structures that each of them like those four has some strengths and weaknesses based on their implementation and structure that we can use, and it&rsquo;s better to know them because sometimes it might help and have a better performance and features based on your problem than <code>list</code>, <code>tuple</code>, <code>set</code>, and <code>dict</code>.</p><p><img src=/images/posts/python-data-structures.svg alt="Data structures in Python overview image"></p><p>Notes:</p><ul><li><strong>Container Sequences</strong> are sequences that can hold different types and can be nested.</li><li><strong>Flat Sequences</strong> are sequences that only can hold one simple type.</li></ul><p>I&rsquo;ll try to explain the above diagram from left to right. Also, I&rsquo;m not going through some data structures that you are already familiar with them.</p><h1 id=collectionsdeque>collections.deque</h1><p>A List in Python is a dynamic array that can contain multiple data types and, you can easily use a Python list as a stack using <code>.append()</code> and <code>.pop()</code> methods and have a good performance. But, when it comes to <code>.insert()</code> (add an item to the beginning of a list) or <code>.pop()</code> from the beginning of a list, it&rsquo;s not efficient because all other items should be shifted by one.
So, it&rsquo;s recommended to use <code>collections.deque</code> for a First-in, First-out queue.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>from</span> <span style=color:#8fbcbb>collections</span> <span style=color:#81a1c1;font-weight:700>import</span> deque
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>queue <span style=color:#81a1c1>=</span> deque<span style=color:#eceff4>([</span><span style=color:#b48ead>1</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>2</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>3</span><span style=color:#eceff4>])</span> <span style=color:#616e87;font-style:italic># queue = [1, 2, 3]</span>
</span></span><span style=display:flex><span>queue<span style=color:#81a1c1>.</span>append<span style=color:#eceff4>(</span><span style=color:#b48ead>4</span><span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic># queue = [1, 2, 3, 4]</span>
</span></span><span style=display:flex><span>queue<span style=color:#81a1c1>.</span>popleft<span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic># queue = [2, 3, 4]</span>
</span></span></code></pre></div><h1 id=arrayarray>array.array</h1><p>Python&rsquo;s <code>array</code> type is a sequence type that only can hold basic types like characters, integers, and float, and it&rsquo;s very efficient when you hold a large number of items in it.
<code>array</code> has other methods like <code>.frombytes</code> and <code>.tofile</code> besides <code>.append</code>, <code>.pop</code>, and <code>.extend</code> that you have in <code>list</code>.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>from</span> <span style=color:#8fbcbb>array</span> <span style=color:#81a1c1;font-weight:700>import</span> array
</span></span><span style=display:flex><span>numbers <span style=color:#81a1c1>=</span> array<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#39;l&#39;</span><span style=color:#eceff4>,</span> <span style=color:#eceff4>[</span><span style=color:#b48ead>1</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>2</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>3</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>4</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>5</span><span style=color:#eceff4>])</span> <span style=color:#616e87;font-style:italic># creating an array of 5 [type] items</span>
</span></span></code></pre></div><p>See Python documentation: <a href=https://docs.python.org/3/library/array.html>array</a>.</p><h1 id=set-and-frozenset>set and frozenset</h1><p><code>set</code> is an <strong>unordered</strong> data structure in Python that can hold <strong>non-duplicate</strong> <strong>hashable</strong> items.
Hashable are types or classes that implemented the <code>__hash__</code> method.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>from</span> <span style=color:#8fbcbb>collections</span> <span style=color:#81a1c1;font-weight:700>import</span> abc
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic># Test hashable</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1>issubclass</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>int</span><span style=color:#eceff4>,</span> abc<span style=color:#81a1c1>.</span>Hashable<span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic># True</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1>issubclass</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>list</span><span style=color:#eceff4>,</span> abc<span style=color:#81a1c1>.</span>Hashable<span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic># False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic># define set using set() and {}</span>
</span></span><span style=display:flex><span>cities <span style=color:#81a1c1>=</span> <span style=color:#81a1c1>set</span><span style=color:#eceff4>([</span><span style=color:#a3be8c>&#39;Berlin&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Amsterdam&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;London&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Amsterdam&#39;</span><span style=color:#eceff4>])</span> <span style=color:#616e87;font-style:italic># {&#39;Amsterdam&#39;, &#39;Berlin&#39;, &#39;London&#39;}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cities <span style=color:#81a1c1>=</span> <span style=color:#eceff4>{</span><span style=color:#a3be8c>&#39;Berlin&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Amsterdam&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;London&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Amsterdam&#39;</span><span style=color:#eceff4>{</span> <span style=color:#616e87;font-style:italic># {&#39;Amsterdam&#39;, &#39;Berlin&#39;, &#39;London&#39;}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cities<span style=color:#81a1c1>.</span>add<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#39;London&#39;</span><span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic># {&#39;Amsterdam&#39;, &#39;Berlin&#39;, &#39;London&#39;}</span>
</span></span><span style=display:flex><span>cities<span style=color:#81a1c1>.</span>add<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#39;Rome&#39;</span><span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic># {&#39;Amsterdam&#39;, &#39;Berlin&#39;, &#39;Rome&#39;, &#39;London&#39;}</span>
</span></span></code></pre></div><p>Also, there is an immutable version of set called <code>frozenset</code> that you can use.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>cities <span style=color:#81a1c1>=</span> <span style=color:#81a1c1>frozenset</span><span style=color:#eceff4>([</span><span style=color:#a3be8c>&#39;Berlin&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Amsterdam&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;London&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Amsterdam&#39;</span><span style=color:#eceff4>])</span> <span style=color:#616e87;font-style:italic># {&#39;Amsterdam&#39;, &#39;Berlin&#39;, &#39;London&#39;}</span>
</span></span></code></pre></div><p>See Python documentation: <a href=https://docs.python.org/3/library/stdtypes.html#set>set and fronzenset</a>.</p><h1 id=collectionsordereddict>collections.OrderedDict</h1><p>After the release of Python 3.6 <code>dict</code> is ordered based on the insertion of items and you don&rsquo;t need <code>collections.OrderedDict</code> unless you want your code to be compatible with Python &lt; 3.6!</p><h1 id=collectionscounter>collections.Counter</h1><p><code>Counter</code> is a subclass of <code>dict</code> for <code>hashable</code> items in Python that you can use to count the number of items using it.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>from</span> <span style=color:#8fbcbb>collections</span> <span style=color:#81a1c1;font-weight:700>import</span> Counter
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>repeat_count <span style=color:#81a1c1>=</span> Counter<span style=color:#eceff4>([</span><span style=color:#a3be8c>&#39;Berlin&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Amsterdam&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;London&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;Amsterdam&#39;</span><span style=color:#eceff4>])</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic># Counter({&#39;Amsterdam&#39;: 2, &#39;Berlin&#39;: 1, &#39;London&#39;: 1})</span>
</span></span></code></pre></div><p>See Python documentation: <a href="https://docs.python.org/3/library/collections.html?highlight=counter#collections.Counter">Counter</a>.</p><h1 id=collectionschainmap>collections.ChainMap</h1><p>By using <code>ChainMap</code> you can group multiple mappings together and create an updatable view of them.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>from</span> <span style=color:#8fbcbb>collections</span> <span style=color:#81a1c1;font-weight:700>import</span> ChainMap
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>base <span style=color:#81a1c1>=</span> <span style=color:#eceff4>{</span><span style=color:#a3be8c>&#39;python&#39;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#39;3.10&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;year&#39;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#39;2021&#39;</span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>new_update <span style=color:#81a1c1>=</span> <span style=color:#eceff4>{</span><span style=color:#a3be8c>&#39;python&#39;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#39;3.11&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;year&#39;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#39;2022&#39;</span><span style=color:#eceff4>,</span> <span style=color:#a3be8c>&#39;author&#39;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#39;Guido van Rossum&#39;</span><span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>python <span style=color:#81a1c1>=</span> ChainMap<span style=color:#eceff4>(</span>base<span style=color:#eceff4>,</span> new_update<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic># ChainMap({&#39;python&#39;: &#39;3.10&#39;, &#39;year&#39;: &#39;2021&#39;}, {&#39;python&#39;: &#39;3.11&#39;, &#39;year&#39;: &#39;2022&#39;, &#39;author&#39;: &#39;Guido van Rossum&#39;})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#81a1c1>list</span><span style=color:#eceff4>(</span>python<span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic># [&#39;python&#39;, &#39;year&#39;, &#39;author&#39;]</span>
</span></span></code></pre></div><p>You can think of using <code>**</code> to join multiple <code>dict</code> together instead of using <code>ChainMap</code> but keep in mind that <code>ChainMap</code> incorporates the underlying mappings by reference so if you update your <code>dict</code>, your <code>ChainMap</code> view is getting updated too.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>a <span style=color:#81a1c1>=</span> <span style=color:#eceff4>{</span><span style=color:#81a1c1>**</span>base<span style=color:#eceff4>,</span> <span style=color:#81a1c1>**</span>new_update<span style=color:#eceff4>}</span> <span style=color:#616e87;font-style:italic># {&#39;python&#39;: &#39;3.11&#39;, &#39;year&#39;: &#39;2022&#39;, &#39;author&#39;: &#39;Guido van Rossum&#39;}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>new_update<span style=color:#eceff4>[</span><span style=color:#a3be8c>&#39;python&#39;</span><span style=color:#eceff4>]</span> <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#39;3.12&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>a <span style=color:#616e87;font-style:italic># {&#39;python&#39;: &#39;3.11&#39;, &#39;year&#39;: &#39;2022&#39;, &#39;author&#39;: &#39;Guido van Rossum&#39;}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>python <span style=color:#616e87;font-style:italic># ChainMap({&#39;python&#39;: &#39;3.10&#39;, &#39;year&#39;: &#39;2021&#39;}, {&#39;python&#39;: &#39;3.12&#39;, &#39;year&#39;: &#39;2022&#39;, &#39;author&#39;: &#39;Guido van Rossum&#39;})</span>
</span></span></code></pre></div><p>See Python documentation: <a href="https://docs.python.org/3/library/collections.html?highlight=chainmap#collections.ChainMap">ChainMap</a>.</p><h1 id=different-kinds-of-queue>Different kinds of Queue</h1><p>In the <code>queue</code> library of Python, you can find multiple implementations of queue that I give you a brief explanation of them here.</p><h2 id=queue>Queue</h2><p>An implementation of a FIFO(first-in, first-out) queue in Python.
Queue takes a <code>maxsize</code> argument which is the size of the queue and if the number of items in the queue reaches this number, your queue is blocked until you consume items from it.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>from</span> <span style=color:#8fbcbb>queue</span> <span style=color:#81a1c1;font-weight:700>import</span> Queue
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>q <span style=color:#81a1c1>=</span> Queue<span style=color:#eceff4>(</span><span style=color:#b48ead>1</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>q<span style=color:#81a1c1>.</span>put<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#39;first&#39;</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>q<span style=color:#81a1c1>.</span>put_nowait<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#39;second&#39;</span><span style=color:#eceff4>)</span> <span style=color:#616e87;font-style:italic># does not wait until get an item and raise an error if queue is full, which in this case queue is full and raise error</span>
</span></span><span style=display:flex><span>q<span style=color:#81a1c1>.</span>get<span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic># &#39;first&#39;</span>
</span></span></code></pre></div><h2 id=lifoqueue>LifoQueue</h2><p><code>LifoQueue</code> is a subclass of <code>Queue</code> that implements a LIFO(last-in, first-out) queue.</p><h2 id=priorityqueue>PriorityQueue</h2><p>PriorityQueue is a subclass of Queue that returns items in the queue based on a Priority of smallest to largest.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>from</span> <span style=color:#8fbcbb>queue</span> <span style=color:#81a1c1;font-weight:700>import</span> PriorityQueue
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>q <span style=color:#81a1c1>=</span> PriorityQueue<span style=color:#eceff4>(</span><span style=color:#b48ead>3</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>q<span style=color:#81a1c1>.</span>put<span style=color:#eceff4>(</span><span style=color:#b48ead>30</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>q<span style=color:#81a1c1>.</span>put<span style=color:#eceff4>(</span><span style=color:#b48ead>14</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>q<span style=color:#81a1c1>.</span>put<span style=color:#eceff4>(</span><span style=color:#b48ead>21</span><span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span>q<span style=color:#81a1c1>.</span>get<span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic># 14</span>
</span></span><span style=display:flex><span>q<span style=color:#81a1c1>.</span>get<span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic># 21</span>
</span></span><span style=display:flex><span>q<span style=color:#81a1c1>.</span>get<span style=color:#eceff4>()</span> <span style=color:#616e87;font-style:italic># 30</span>
</span></span></code></pre></div><h2 id=simplequeue>SimpleQueue</h2><p><code>SimpleQueue</code> is an implementation of the FIFO(first-in, first-out) queue that is unbounded and added in Python 3.7.
Note that Python uses <code>collections.deque</code> under the hood in <code>SimpleQueue</code>.</p><p>See Python documentation: <a href="https://docs.python.org/3/library/queue.html?highlight=queue#module-queue">queue</a>.</p></div></div><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//peymanslh.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><div class=footer><div class=footer-copy>© 2023 Peyman Salehi.</div><div class=footer-social><span class="social-icon social-icon-twitter"><a href=https://twitter.com/_peymanslh title=twitter target=_blank rel=noopener><img src=/images/social/twitter.svg width=24 height=24 alt=twitter>
</a></span><span class="social-icon social-icon-github"><a href=https://github.com/peymanslh title=github target=_blank rel=noopener><img src=/images/social/github.svg width=24 height=24 alt=github>
</a></span><span class="social-icon social-icon-linkedin"><a href=https://www.linkedin.com/in/peymanslh title=linkedin target=_blank rel=noopener><img src=/images/social/linkedin.svg width=24 height=24 alt=linkedin></a></span></div></div></div><script type=text/javascript src=/js/bundle.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.js></script></body></html>